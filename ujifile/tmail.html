---
layout: null
permalink: /wp-admin/tmail
---
<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Input Email &amp; Messages</title>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
 
</head>

<body class="container my-4">
  <h1 class="text-center">Form Input Email &amp; Messages</h1>
  <form id="emailForm" class="my-3">
    <div class="mb-3">
      <label for="domain" class="form-label">Domain</label>
      <select class="form-control" id="domain" required>
        <option value="">Pilih Domain</option>
        <option value="teml.net">teml.net</option>
        <option value="tmpeml.com">tmpeml.com</option>
        <option value="tmpbox.net">tmpbox.net</option>
        <option value="moakt.cc">moakt.cc</option>
        <option value="disbox.net">disbox.net</option>
        <option value="tmpmail.org">tmpmail.org</option>
        <option value="tmpmail.net">tmpmail.net</option>
        <option value="tmails.net">tmails.net</option>
        <option value="disbox.org">disbox.org</option>
        <option value="moakt.co">moakt.co</option>
        <option value="moakt.ws">moakt.ws</option>
        <option value="tmail.ws">tmail.ws</option>
        <option value="bareed.ws">bareed.ws</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="subdomain" class="form-label">Subdomain (Opsional)</label>
      <input type="text" class="form-control" id="subdomain" placeholder="Masukkan Subdomain" />
    </div>

    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" value="" id="randomCheckboxSubdomain">
      <label class="form-check-label" for="randomCheckboxSubdomain">
        Generate Random Subdomain
      </label>
    </div>

    <div class="mb-3">
      <label for="username" class="form-label">Username</label>
      <input type="text" class="form-control" id="username" placeholder="Masukkan Username" required />
    </div>

    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" value="" id="randomCheckboxUsername">
      <label class="form-check-label" for="randomCheckboxUsername">
        Generate Random Username
      </label>
    </div>

    <button type="button" class="btn btn-primary" onclick="submitForm()">Kirim</button>
  </form>

  <div class="my-4">
    <h4>Email Terdaftar:</h4>
    <p id="email">N/A</p>
  </div>

  <div class="my-4">
    <h4>Messages:</h4>
    <div id="messages"></div>
  </div><div id="iframeContainer" class="my-4"></div>
   <script>
    let emailBoxInterval;

    async function generateUsername() {
       let e = Math.random().toString(36).substring(2, 15);
  // Batasi panjangnya antara 3 sampai 6 karakter
  e = e.substring(0, Math.floor(Math.random() * 4) + 7);
      document.getElementById("username").value = e;
    }

    async function generateRandomSubdomain() {
        let e = Math.random().toString(36).substring(2, 15);
  // Batasi panjangnya antara 3 sampai 6 karakter
  e = e.substring(0, Math.floor(Math.random() * 4) + 3);
  document.getElementById("subdomain").value = e;
  
  }

    async function submitForm() {
      let domain = document.getElementById("domain").value || "goohle.disbox.org";
      let subdomain = document.getElementById("subdomain").value;
      let username = document.getElementById("username").value;
      
      if (document.getElementById("randomCheckboxUsername").checked) {
        generateUsername();
        username = document.getElementById("username").value;
      }

      if (document.getElementById("randomCheckboxSubdomain").checked) {
        generateRandomSubdomain();
        subdomain = document.getElementById("subdomain").value;
      }
    let fixmain=domain;  
      if(subdomain){
      fixmain=subdomain+"."+domain
      }
const body={
domain: fixmain,
username: username 
}
      let n = await (await fetch("https://sabdaliterasi.xyz/api/convert/create-email", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
      })).json();

      if (n.success) {
        document.getElementById("email").textContent = n.email;
        document.getElementById("messages").innerHTML = "";
        document.getElementById("iframeContainer").innerHTML = "";
        startMessageFetching();
      } else {
        alert("Gagal mengirim data!");
      }
    }

    async function startMessageFetching() {
      if (!emailBoxInterval) {
        emailBoxInterval = setInterval(async () => {
          let e = await (await fetch("https://sabdaliterasi.xyz/api/convert/email-box")).json();
          let t = document.getElementById("messages");
          t.innerHTML = "";
          e.messages.length > 0 && e.messages.forEach((e) => {
            let n = document.createElement("div");
            n.classList.add("card", "my-2");
            n.innerHTML = `
              <div class="card-body">
                <h5 class="card-title">${e.subject}</h5>
                <h6 class="card-subtitle mb-2 text-muted">${e.sender}</h6>
                <a href="#" class="btn btn-primary" onclick="showMessageIframe('${e.link}')">Lihat Pesan</a>
              </div>
            `;
            t.appendChild(n);
          });
        }, 5000);
      }
    }

    function showMessageIframe(e) {
      document.getElementById("iframeContainer").innerHTML = `<iframe src="${e}" width="100%" height="500px"></iframe>`;
    }

    function resetForm() {
      document.getElementById("username").value = "";
      document.getElementById("subdomain").value = "";
      document.getElementById("email").textContent = "N/A";
      document.getElementById("messages").innerHTML = "";
      clearInterval(emailBoxInterval);
      emailBoxInterval = null;
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("randomCheckboxUsername").addEventListener("change", function () {
        if (this.checked) {
          document.getElementById("username").disabled = true;
          generateUsername();
        } else {
          document.getElementById("username").disabled = false;
        }
      });

      document.getElementById("randomCheckboxSubdomain").addEventListener("change", function () {
        if (this.checked) {
          document.getElementById("subdomain").disabled = true;
          generateRandomSubdomain();
        } else {
          document.getElementById("subdomain").disabled = false;
        }
      });
    });
  </script>
</body>

</html>
